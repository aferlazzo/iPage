
/* Simple Layer library with very basic compatability checking */

/* detect objects */
(document.layers) ? layerobject=true : layerobject=false;
(document.all) ? allobject = true: allobject = false;
(document.getElementById) ? dom = true : dom = false;

/* detect browsers */
opera=navigator.userAgent.toLowerCase().indexOf('opera')!=-1;

 /* set animation speed and step */
 var step = 3;
 var framespeed = 400;
 
 /* set animation boundries */
 var maxtop = 128;
 var maxleft = 244;
 var maxbottom = 400;
 var maxright = 810;
 
 var StartRight = 810;
 var ToHome = 566
 var EndLeft = StartRight - ToHome;


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* return the object for the passed layerName value	*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function getElement(layerName,parentLayer) 
{
 if (layerobject)
  {
    parentLayer = (parentLayer)? parentLayer : self;
	layerCollection = parentLayer.document.layers;
	if (layerCollection[layerName])
	  return layerCollection[layerName];
	
	/* look through nested layers */
	for(i=0; i < layerCollection.length;)
	  return(getElement(layerName, layerCollection[i++]));
   }
	
  if (allobject)
    return document.all[layerName];

  if (dom)
    return document.getElementById(layerName); 
} 



/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* hide the layer with id = layerName			*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function hide(layerName)
 {
   var theLayer = getElement(layerName);
   
   if (layerobject)
     theLayer.visibility = 'hide';
   else
     theLayer.style.visibility = 'hidden';
  }



/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* show the layer with id = layerName			*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function show(layerName)
 {
   var theLayer = getElement(layerName);
   
   if (layerobject)
     theLayer.visibility = 'show';
   else
     theLayer.style.visibility = 'visible';
  }



/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the x-coordinate of layer named layerName	*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setX(layerName,x) 
 {
   var theLayer = getElement(layerName);
   
   if (layerobject)
     theLayer.left=x;
   else  
     theLayer.style.left=x;
 } 


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the y-coordinate of layer named layerName	*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setY(layerName, y) 
 {
   var theLayer = getElement(layerName);

   if (layerobject)
     theLayer.top=y;
   else  
     theLayer.style.top=y;
 }



/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the z-index of layer named layerName		*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setZ(layerName, zIndex) 
 {
   var theLayer = getElement(layerName);

   if (layerobject)
     theLayer.zIndex = zIndex;
   else
     theLayer.style.zIndex = zIndex;
 } 


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the height of layer named layerName		*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setHeight(layerName, height) 
 {
   var theLayer = getElement(layerName);

   if (layerobject)
     theLayer.clip.height = height;
   else if (opera)
     theLayer.style.pixelHeight = height;
   else
     theLayer.style.height = height;
 }


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the width of layer named layerName		*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setWidth(layerName, width) 
 {
  var theLayer = getElement(layerName);

   if (layerobject)
     theLayer.clip.width = width;
  else if (opera)
     theLayer.style.pixelWidth = width;
   else
     theLayer.style.width = width;
 }

   

/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the a clipping rectangle on the layer named	*/
/* layerName defined by top, right, bottom, and left	*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setClip(layerName, top, right, bottom, left) 
 {
 
   var theLayer = getElement(layerName);
 
   if (layerobject)
     {
	   theLayer.clip.top = top;
	   theLayer.clip.right = right;
	   theLayer.clip.bottom = bottom;
	   theLayer.clip.left = left;
	  }
	else
	  theLayer.style.clip = "rect("+top+" "+right+" "+" "+bottom+" "+left+")";
 }
 


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Set the contents of layerName to passed content 	*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function setContents(layerName, content)
 {
   var theLayer = getElement(layerName);

   if (layerobject)
     {
	  theLayer.document.write(content);
	  theLayer.document.close();
	  return;
	 }
	 
   if (theLayer.innerHTML)
     theLayer.innerHTML = content;
 } 
 


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* Reload window in Nav 4 to preserve layout when 	*/
/* resized						*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function reloadPage(initialload) 
{  
  if (initialload==true) 
	 {
	   if ((navigator.appName=="Netscape")&&(parseInt(navigator.appVersion)==4)) 
	    {
          document.pageWidth=window.innerWidth; 
		  document.pageHeight=window.innerHeight; 
		  onresize=reloadPage; 
		 }
	  }
  else if (innerWidth!=document.pageWidth || innerHeight!=document.pageHeight) 
         location.reload();
}

reloadPage(true);

/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* return the X-coordinate of the layer named layerName */
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function getX(layerName) 
{
   var theLayer = getElement(layerName);
   if (layerobject)
     return(parseInt(theLayer.left));
   else 
     return(parseInt(theLayer.style.left));
} 

/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* return the Y-coordinate of the layer named layerName */
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function getY(layerName) 
{
   var theLayer = getElement(layerName);

   if (layerobject)
     return(parseInt(theLayer.top));
   else  
     return(parseInt(theLayer.style.top));
}


/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* move up until boundry				*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
 
function up()
{
  var currentY = getY('ufo');
  if (currentY > maxtop)
   {
    currentY-=step;
    setY('ufo',currentY);
    move=setTimeout("up()",(1000/framespeed));
   }
  else
    clearTimeout(move);
}



/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* move down until boundry				*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
 
function down()
{
 
  var currentY = getY('ufo');
  if (currentY < maxbottom)
   {
    currentY+=step;
    setY('ufo',currentY);
	move=setTimeout("down()",(1000/framespeed));
   }
  else
    clearTimeout(move);
}
 
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* move left until boundry				*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function left()
{
  var currentX = getX('ufo');
  
  if (currentX > EndLeft)
   {
    currentX-=step;
    setX('ufo',currentX);
    move=setTimeout("left()",(1000/framespeed)); //to slow down movement
    }
  else
  {
    clearTimeout(move);
  }
}

/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/
/*							*/
/* move right until boundry				*/
/*							*/
/* - - - - - - - - - - - - - - - - - - - - - - - - - - -*/

function right()
{
  var currentX = getX('ufo');
  
  if (currentX < maxright)
   {
    currentX+=step;
    setX('ufo',currentX);
    move=setTimeout("right()",(1000/framespeed));
   }
  else
    clearTimeout(move);
 
}
